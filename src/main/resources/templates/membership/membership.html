<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERSOME ë©¤ë²„ì‹­</title>
    <link rel="stylesheet" href="/css/header.css">
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", Arial, sans-serif; 
            margin: 0;
            padding: 0;
            background-color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .membership-header {
            text-align: left;
            margin-bottom: 60px;
            background: #f8f9fa;
            color: #333;
            padding: 80px 40px;
            position: relative;
            overflow: hidden;
            border-radius: 0;
        }
        
        .membership-header::before {
            content: '';
            position: absolute;
            top: 30px;
            right: 60px;
            width: 50px;
            height: 50px;
            background: #ff6b35;
            border-radius: 50%;
        }
        
        .membership-header::after {
            content: '';
            position: absolute;
            top: 100px;
            right: 140px;
            width: 70px;
            height: 35px;
            background: #4ecdc4;
            border-radius: 20px;
        }
        
        .header-decoration {
            position: absolute;
            top: 50px;
            right: 200px;
            width: 80px;
            height: 50px;
            background: #ffe66d;
            border-radius: 25px 25px 0 25px;
        }
        
        .membership-header h1 {
            font-size: 42px;
            font-weight: 700;
            margin: 0 0 10px 0;
            color: #333;
        }
        
        .membership-header p {
            font-size: 18px;
            margin: 0 0 40px 0;
            color: #666;
            font-weight: 400;
        }
        
        .header-buttons {
            margin-top: 40px;
            display: flex;
            gap: 20px;
        }
        
        .header-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: opacity 0.3s ease;
        }
        
        .header-btn.primary {
            background: #666;
            color: white;
        }
        
        .header-btn.secondary {
            background: #e9ecef;
            color: #333;
        }
        
        .header-btn:hover {
            opacity: 0.8;
        }
        
        .membership-notice {
            text-align: center;
            margin: 40px 0;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .membership-notice h3 {
            color: #333;
            margin: 0 0 20px 0;
            font-size: 20px;
        }
        
        .notice-btn {
            background: #333;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        
        .membership-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 30px;
            margin-bottom: 80px;
        }
        
        .level-card {
            background: white;
            border-radius: 16px;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .level-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--level-color);
        }
        
        .level-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .level-card.baby { --level-color: #ff9a9e; }
        .level-card.pink { --level-color: #f093fb; }
        .level-card.green { --level-color: #4facfe; }
        .level-card.black { --level-color: #43e97b; }
        .level-card.gold { --level-color: #fad0c4; }
        
        .level-name {
            font-size: 24px;
            font-weight: 700;
            margin: 0 0 10px 0;
            color: var(--level-color);
        }
        
        .level-condition {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }
        
        .level-benefits {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .level-benefits li {
            background: #f8f9fa;
            margin: 8px 0;
            padding: 10px;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .benefits-section {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .benefits-section h2 {
            font-size: 28px;
            margin: 0 0 30px 0;
            text-align: center;
            color: #333;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        
        .benefit-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 20px;
            color: white;
        }
        
        .benefit-content h3 {
            margin: 0 0 8px 0;
            font-size: 18px;
            color: #333;
        }
        
        .benefit-content p {
            margin: 0;
            color: #666;
            font-size: 14px;
        }
        
        .join-section {
            text-align: center;
            background: white;
            border-radius: 16px;
            padding: 60px 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .join-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .join-btn:hover {
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .membership-header {
                padding: 40px 20px;
            }
            
            .membership-header h1 {
                font-size: 32px;
            }
            
            .membership-levels {
                grid-template-columns: 1fr;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="header"></div>
    
    <div class="container">
        <!-- í—¤ë” ì„¹ì…˜ -->
        <div class="membership-header">
            <div class="header-decoration"></div>
            <h1>PERSOME ë©¤ë²„ì‹­ ë¼ìš´ì§€</h1>
            <p>ì‡¼í•‘í•˜ëŠ” ì¬ë¯¸! PERSOMEë§Œì˜ ë” íŠ¹ë³„í•œ í˜œíƒ</p>
            <div class="header-buttons">
                <a href="/membership" class="header-btn primary">PERSOME ë©¤ë²„ì‹­</a>
                <a href="/coupons" class="header-btn secondary">ì¿ í°/í˜œíƒ</a>
            </div>
        </div>
        
        <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
        <div class="membership-notice">
            <!-- ë¹„ë¡œê·¸ì¸ ìƒíƒœ ë©”ì‹œì§€ -->
            <div class="guest-notice" style="display: block;">
                <h3>ë¡œê·¸ì¸ í›„ ê³ ê°ë‹˜ì˜ ë“±ê¸‰ê³¼ íŠ¹ë³„í•œ í˜œíƒì„ í™•ì¸í•˜ì„¸ìš”</h3>
                <a href="/users/login" class="notice-btn">ë¡œê·¸ì¸í•˜ê¸°</a>
            </div>
            
            <!-- ë¡œê·¸ì¸ ìƒíƒœ ë©”ì‹œì§€ -->
            <div class="logged-in-notice" style="display: none;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 30px; flex-wrap: wrap;">
                    <div class="user-grade-info" style="text-align: center;">
                        <div style="width: 80px; height: 80px; margin: 0 auto 15px auto;">
                            <img src="/images/baby-olive-badge.png" alt="BABY OLIVE ë“±ê¸‰" style="width: 100%; height: 100%; object-fit: contain;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div style="display: none; width: 80px; height: 80px; background: #7cb342; border-radius: 50%; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: bold;">ğŸŒ±</div>
                        </div>
                        <h3 style="margin: 0 0 5px 0; font-size: 18px; color: #333;">íšŒì›ì´ë¦„ì˜ ë“±ê¸‰</h3>
                        <div style="font-size: 24px; font-weight: 700; color: #7cb342; margin: 0;">íšŒì›ì˜ ë“±ê¸‰ì´ í‘œì‹œë©ë‹ˆë‹¤.</div>
                    </div>
                    
                    <div class="grade-benefits" style="text-align: left; max-width: 400px;">
                        <h4 style="margin: 0 0 15px 0; font-size: 16px; color: #333;">ì´ë²ˆ ë‹¬ í˜œíƒ</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #666; line-height: 1.6; font-size: 14px;">
                            <li>ì›”ê°„ í• ì¸ì¿ í° 3ì²œì› (3ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)</li>
                            <li>ë¬´ë£Œë°°ì†¡ ì¿ í°</li>
                            <li>CJ ONE í¬ì¸íŠ¸ 1% ì ë¦½</li>
                        </ul>
                        <div style="margin-top: 15px;">
                            <a href="/membership/coupons" class="notice-btn" style="font-size: 13px; padding: 8px 16px;">ë‚´ ì¿ í° ë³´ê¸°</a>
                        </div>
                    </div>
                </div>
                
                <!-- ë‹¤ìŒ ë“±ê¸‰ê¹Œì§€ ì§„í–‰ë¥  -->
                <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee;">
                    <div style="text-align: center; margin-bottom: 10px;">
                        <span style="font-size: 14px; color: #666;">ë‹¤ìŒ ë“±ê¸‰(PINK)ê¹Œì§€ <strong>50,000ì›</strong> ë” êµ¬ë§¤í•˜ì„¸ìš”!</span>
                    </div>
                    <div style="background: #f5f5f5; height: 12px; border-radius: 6px; overflow: hidden; max-width: 400px; margin: 0 auto;">
                        <div style="background: linear-gradient(90deg, #7cb342, #4caf50); height: 100%; width: 30%; border-radius: 6px; transition: width 0.3s ease;"></div>
                    </div>
                    <div style="text-align: center; margin-top: 8px; font-size: 12px; color: #999;">
                        í˜„ì¬ êµ¬ë§¤ê¸ˆì•¡: 30,000ì› / ë‹¤ìŒ ë“±ê¸‰: 100,000ì›
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ë©¤ë²„ì‹­ ë“±ê¸‰ -->
        <!--<div id="levels" class="membership-levels">
            <div class="level-card baby">
                <h3 class="level-name">BABY</h3>
                <p class="level-condition">10ë§Œì› ë¯¸ë§Œ</p>
                <ul class="level-benefits">
                    <li>ì‹ ê·œ ê°€ì… ì¶•í•˜ ì¿ í°</li>
                    <li>ìƒì¼ ì¶•í•˜ ì¿ í°</li>
                    <li>ë¬´ë£Œ ë°°ì†¡ í˜œíƒ</li>
                </ul>
            </div>
            
            <div class="level-card pink">
                <h3 class="level-name">PINK</h3>
                <p class="level-condition">10ë§Œì› ì´ìƒ ~ 40ë§Œì› ë¯¸ë§Œ</p>
                <ul class="level-benefits">
                    <li>2% ì¶”ê°€ ì ë¦½</li>
                    <li>ì›” 1íšŒ í• ì¸ ì¿ í°</li>
                    <li>ìš°ì„  ë°°ì†¡ ì„œë¹„ìŠ¤</li>
                    <li>íŠ¹ë³„ ì´ë²¤íŠ¸ ì°¸ì—¬</li>
                </ul>
            </div>
            
            <div class="level-card green">
                <h3 class="level-name">GREEN</h3>
                <p class="level-condition">40ë§Œì› ì´ìƒ ~ 70ë§Œì› ë¯¸ë§Œ</p>
                <ul class="level-benefits">
                    <li>3% ì¶”ê°€ ì ë¦½</li>
                    <li>ì›” 2íšŒ í• ì¸ ì¿ í°</li>
                    <li>ë¬´ë£Œ ìƒ˜í”Œ ì¦ì •</li>
                    <li>VIP ê³ ê°ì„¼í„°</li>
                    <li>ì‹ ì œí’ˆ ë¯¸ë¦¬ë³´ê¸°</li>
                </ul>
            </div>
            
            <div class="level-card black">
                <h3 class="level-name">BLACK</h3>
                <p class="level-condition">70ë§Œì› ì´ìƒ ~ 100ë§Œì› ë¯¸ë§Œ</p>
                <ul class="level-benefits">
                    <li>5% ì¶”ê°€ ì ë¦½</li>
                    <li>ì›” 3íšŒ í• ì¸ ì¿ í°</li>
                    <li>ì „ìš© ìƒí’ˆ ë¼ì¸</li>
                    <li>ê°œì¸ ë§ì¶¤ ì¶”ì²œ</li>
                    <li>ë¬´ë£Œ êµí™˜/ë°˜í’ˆ</li>
                    <li>íŠ¹ë³„ í• ì¸ ì´ë²¤íŠ¸</li>
                </ul>
            </div>
            
            <div class="level-card gold">
                <h3 class="level-name">GOLD</h3>
                <p class="level-condition">100ë§Œì› ì´ìƒ</p>
                <ul class="level-benefits">
                    <li>10% ì¶”ê°€ ì ë¦½</li>
                    <li>ë¬´ì œí•œ í• ì¸ ì¿ í°</li>
                    <li>í”„ë¦¬ë¯¸ì—„ ë°°ì†¡</li>
                    <li>ì „ë‹´ ì»¨ì„¤í„´íŠ¸</li>
                    <li>í•œì •íŒ ìƒí’ˆ ìš°ì„  êµ¬ë§¤</li>
                    <li>ì—°ê°„ ìŠ¤í˜ì…œ ê¸°í”„íŠ¸</li>
                    <li>VIP ì „ìš© ì´ë²¤íŠ¸</li>
                </ul>
            </div>
        </div>-->
        
        <!-- ê³µí†µ í˜œíƒ -->
        <div id="benefits" class="benefits-section">
            <h2>PERSOME ë©¤ë²„ì‹­ ì‹ ê·œ ê°€ì… & ì²« êµ¬ë§¤ í˜œíƒ</h2>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ</div>
                    <div class="benefit-content">
                        <h3>PERSOME ë©¤ë²„ì‹­ ì‹ ê·œ ê°€ì… ì¿ í°</h3>
                        <p>10% í• ì¸ ì¿ í° (ìµœëŒ€ 5ì²œì›)</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ’°</div>
                    <div class="benefit-content">
                        <h3>ì˜¨ë¼ì¸ ë¬´ë£Œë°°ì†¡ ì¿ í°</h3>
                        <p>3ë§Œì› ë¯¸ë§Œ êµ¬ë§¤ì‹œì—ë„ ë¬´ë£Œë°°ì†¡</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸŒŸ</div>
                    <div class="benefit-content">
                        <h3>CJ ONE í¬ì¸íŠ¸ ì ë¦½</h3>
                        <p>êµ¬ë§¤ê¸ˆì•¡ì˜ 1% ê¸°ë³¸ ì ë¦½</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸ¯</div>
                    <div class="benefit-content">
                        <h3>ìƒì¼ ì¿ í°</h3>
                        <p>ë§¤ë…„ ìƒì¼ë§ˆë‹¤ íŠ¹ë³„ í• ì¸ í˜œíƒ</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">ğŸšš</div>
                    <div class="benefit-content">
                        <h3>ì˜¨ë¼ì¸ ë¬´ë£Œë°°ì†¡ ì¿ í°</h3>
                        <p>ë§¤ì›” ì œê³µë˜ëŠ” ë¬´ë£Œë°°ì†¡ í˜œíƒ</p>
                    </div>
                </div>
                
                <div class="benefit-item">
                    <div class="benefit-icon">âš¡</div>
                    <div class="benefit-content">
                        <h3>ì˜¤ëŠ˜ë“œë¦¼ ë¬´ë£Œë°°ì†¡ ì¿ í°</h3>
                        <p>ë‹¹ì¼ ë°°ì†¡ ì„œë¹„ìŠ¤ ë¬´ë£Œ ì´ìš©</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- PERSOME ë©¤ë²„ì‹­ ë“±ê¸‰ë³„ ë‹¤ì–‘í•œ í˜œíƒ -->
        <div class="benefits-section">
            <h2>PERSOME ë©¤ë²„ì‹­ ë“±ê¸‰ë³„ ë‹¤ì–‘í•œ í˜œíƒì„ í™•ì¸í•˜ì„¸ìš”</h2>
            <div style="text-align: center; margin: 40px 0;">
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0; background: white;">
                    <thead>
                        <tr style="background: #f8f9fa;">
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center;">ë“±ê¸‰ë³„ í˜œíƒ</th>
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center; color: #674ea7;">BABY</th>
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center; color: #ff6b9d;">PINK</th>
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center; color: #37b042;">GREEN</th>
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center; color: #333;">BLACK</th>
                            <th style="padding: 15px; border: 1px solid #ddd; text-align: center; color: #ffd700;">GOLD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: 600;">ì—°ê°„ ê¸°ì¤€<br>(ìµœê·¼ 12ê°œì›” êµ¬ë§¤ ê¸ˆì•¡)</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">10ë§Œì› ë¯¸ë§Œ</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">10ë§Œì› ì´ìƒ<br>40ë§Œì› ë¯¸ë§Œ</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">40ë§Œì› ì´ìƒ<br>70ë§Œì› ë¯¸ë§Œ</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">70ë§Œì› ì´ìƒ<br>100ë§Œì› ë¯¸ë§Œ</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">100ë§Œì› ì´ìƒ</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: 600;">CJ ONE í¬ì¸íŠ¸ ì ë¦½ë¥ </td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1.0%</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1.0%</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1.0%</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1.5%</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1.5%</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: 600;">ìƒì¼ ì¿ í°<br>(ë§¤ë…„ ìƒì¼ ì‹œì¦Œì— ì œê³µ)</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">2ì²œì› ìƒí’ˆê¶Œ<br>ì¿ í°ë¶</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1ë§Œ ìƒí’ˆê¶Œ<br>ì¿ í°ë¶</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">ìˆœê°„ ë¬´ë£Œë°°ì†¡<br>ì¿ í°ë¶</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">2ë§Œì› ìƒí’ˆê¶Œ<br>1ë§Œì› ì¿ í°</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">1ë§Œì› ë§¤ì¼<br>ì¿ í°ë¶</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: 600;">ì˜¨ë¼ì¸ ë¬´ë£Œë°°ì†¡ ì¿ í°</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                        </tr>
                        <tr>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center; font-weight: 600;">ì˜¤ëŠ˜ë“œë¦¼ ë¬´ë£Œë°°ì†¡ ì¿ í°</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                            <td style="padding: 12px; border: 1px solid #ddd; text-align: center;">â—‹</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <script src="/js/header.js"></script>
    <script>
        // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ë° ë©”ì‹œì§€ í‘œì‹œ ë¡œì§
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatusAndUpdateUI();
        });
        
        async function checkLoginStatusAndUpdateUI() {
            const guestNotice = document.querySelector('.guest-notice');
            const loggedInNotice = document.querySelector('.logged-in-notice');
            
            try {
                const res = await fetch("/api/users/me", { credentials: "include" });
                
                if (res.ok) {
                    // ë¡œê·¸ì¸ ìƒíƒœ: ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ UI ì—…ë°ì´íŠ¸
                    const user = await res.json();
                    updateLoggedInContent(user);
                    guestNotice.style.display = 'none';
                    loggedInNotice.style.display = 'block';
                } else if (res.status === 401) {
                    // ë¹„ë¡œê·¸ì¸ ìƒíƒœ: ë¹„ë¡œê·¸ì¸ ë©”ì‹œì§€ í‘œì‹œ
                    guestNotice.style.display = 'block';
                    loggedInNotice.style.display = 'none';
                }
            } catch (e) {
                console.error("ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨", e);
                // ì—ëŸ¬ ë°œìƒì‹œ ë¹„ë¡œê·¸ì¸ ìƒíƒœë¡œ ì²˜ë¦¬
                guestNotice.style.display = 'block';
                loggedInNotice.style.display = 'none';
            }
        }
        
        function updateLoggedInContent(user) {
            console.log('updateLoggedInContent í˜¸ì¶œë¨:', user);
            
            // ì‚¬ìš©ì ì •ë³´ë¡œ ë¡œê·¸ì¸ ìƒíƒœ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
            const userNameElement = document.querySelector('.logged-in-notice .user-grade-info h3');
            const levelDisplayElement = document.querySelector('.logged-in-notice .user-grade-info > div:last-child');
            const levelImageElement = document.querySelector('.logged-in-notice .user-grade-info img');
            
            console.log('DOM ìš”ì†Œë“¤:', {
                userNameElement,
                levelDisplayElement, 
                levelImageElement
            });
            
            // ì‚¬ìš©ì ì´ë¦„ ì—…ë°ì´íŠ¸
            if (userNameElement) {
                userNameElement.textContent = `${user.displayName || user.name || 'ê³ ê°'}ì˜ ë“±ê¸‰`;
                console.log('ì‚¬ìš©ì ì´ë¦„ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
            }
            
            // ë©¤ë²„ì‹­ ë“±ê¸‰ ì •ë³´ ì—…ë°ì´íŠ¸
            const membershipLevel = user.membershipLevel || 'BABY';
            console.log('ë©¤ë²„ì‹­ ë ˆë²¨:', membershipLevel);
            const levelInfo = getLevelInfo(membershipLevel);
            console.log('ë ˆë²¨ ì •ë³´:', levelInfo);
            
            // ë“±ê¸‰ëª… í‘œì‹œ ì—…ë°ì´íŠ¸
            if (levelDisplayElement) {
                levelDisplayElement.textContent = levelInfo.displayName;
                levelDisplayElement.style.color = levelInfo.color;
                console.log('ë“±ê¸‰ëª… ì—…ë°ì´íŠ¸ ì™„ë£Œ:', levelInfo.displayName);
            }
            
            // fallback div ìƒ‰ìƒ ì—…ë°ì´íŠ¸
            if (levelImageElement) {
                const fallbackDiv = levelImageElement.nextElementSibling;
                if (fallbackDiv) {
                    fallbackDiv.style.background = levelInfo.color;
                }
            }
            
            // í˜œíƒ ì •ë³´ ì—…ë°ì´íŠ¸
            updateBenefits(membershipLevel);
        }
        
        function getLevelInfo(level) {
            const levelMap = {
                'BABY': {
                    displayName: 'BABY',
                    color: '#674ea7'
                },
                'PINK': {
                    displayName: 'PINK',
                    color: '#ff6b9d'
                },
                'GREEN': {
                    displayName: 'GREEN',
                    color: '#37b042'
                },
                'BLACK': {
                    displayName: 'BLACK',
                    color: '#333'
                },
                'GOLD': {
                    displayName: 'GOLD',
                    color: '#ffd700'
                }
            };
            
            return levelMap[level] || levelMap['BABY'];
        }
        
        function updateBenefits(level) {
            console.log('updateBenefits í˜¸ì¶œë¨:', level);
            const benefitsList = document.querySelector('.logged-in-notice .grade-benefits ul');
            console.log('í˜œíƒ ë¦¬ìŠ¤íŠ¸ ìš”ì†Œ:', benefitsList);
            
            if (!benefitsList) {
                console.log('í˜œíƒ ë¦¬ìŠ¤íŠ¸ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
                return;
            }
            
            const benefitsMap = {
                'BABY': [
                    'ì›”ê°„ í• ì¸ì¿ í° 3ì²œì› (3ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)',
                    'ë¬´ë£Œë°°ì†¡ ì¿ í°',
                    'í¬ì¸íŠ¸ 1% ì ë¦½'
                ],
                'PINK': [
                    'ì›”ê°„ í• ì¸ì¿ í° 5ì²œì› (5ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)',
                    'ë¬´ë£Œë°°ì†¡ ì¿ í°',
                    'í¬ì¸íŠ¸ 1% ì ë¦½',
                    'ìš°ì„  ë°°ì†¡ ì„œë¹„ìŠ¤'
                ],
                'GREEN': [
                    'ì›”ê°„ í• ì¸ì¿ í° 1ë§Œì› (7ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)',
                    'ë¬´ë£Œë°°ì†¡ ì¿ í°',
                    'í¬ì¸íŠ¸ 1% ì ë¦½',
                    'ë¬´ë£Œ ìƒ˜í”Œ ì¦ì •',
                    'VIP ê³ ê°ì„¼í„°'
                ],
                'BLACK': [
                    'ì›”ê°„ í• ì¸ì¿ í° 2ë§Œì› (10ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)',
                    'ë¬´ë£Œë°°ì†¡ ì¿ í°',
                    '1.5% ì ë¦½',
                    'ì „ìš© ìƒí’ˆ ë¼ì¸',
                    'ê°œì¸ ë§ì¶¤ ì¶”ì²œ'
                ],
                'GOLD': [
                    'ì›”ê°„ í• ì¸ì¿ í° 3ë§Œì› (15ë§Œì› ì´ìƒ êµ¬ë§¤ì‹œ)',
                    'ë¬´ë£Œë°°ì†¡ ì¿ í°',
                    '1.5% ì ë¦½',
                    'í”„ë¦¬ë¯¸ì—„ ë°°ì†¡',
                    'ì „ë‹´ ì»¨ì„¤í„´íŠ¸',
                    'VIP ì „ìš© ì´ë²¤íŠ¸'
                ]
            };
            
            const benefits = benefitsMap[level] || benefitsMap['BABY'];
            console.log('í˜œíƒ ëª©ë¡:', benefits);
            benefitsList.innerHTML = benefits.map(benefit => `<li>${benefit}</li>`).join('');
            console.log('í˜œíƒ ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
        }
    </script>
</body>
</html>